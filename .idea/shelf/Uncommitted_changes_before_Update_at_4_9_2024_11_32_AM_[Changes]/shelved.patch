Index: user/views.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django.http import HttpResponse\r\nfrom django.template import loader\r\nfrom django.shortcuts import render, redirect\r\nfrom django.contrib.auth import authenticate, login, logout, get_user_model\r\nfrom django.contrib import messages\r\nfrom .forms import RegisterForm\r\nfrom django.contrib.auth.forms import AuthenticationForm\r\nfrom .models import User\r\n\r\nUser = get_user_model()\r\n\r\n\r\ndef cart(request):\r\n    template = loader.get_template(\"cart.html\")\r\n    return HttpResponse(template.render())\r\n\r\n\r\ndef main(request):\r\n    template = loader.get_template(\"index.html\")\r\n    return HttpResponse(template.render())\r\n\r\n\r\ndef get_signup(request):\r\n    if request.method == \"POST\":\r\n        form = RegisterForm(request.POST)\r\n        if form.is_valid():\r\n            user = form.save()\r\n\r\n            if user is not None:\r\n                login(request, user)\r\n                messages.success(request, \"Registration successful.\")\r\n                return redirect(\"main\")\r\n\r\n        messages.error(request, \"Unsuccessful registration. Invalid information.\")\r\n    form = RegisterForm()\r\n    return render(\r\n        request=request,\r\n        template_name=\"signup.html\",\r\n        context={\"register_form\": form},\r\n    )\r\n\r\n\r\ndef get_signin(request):\r\n    if request.method == \"POST\":\r\n        form = AuthenticationForm(request, data=request.POST)\r\n        if form.is_valid():\r\n            username = form.cleaned_data.get(\"username\")\r\n            password = form.cleaned_data.get(\"password\")\r\n            user = authenticate(username=username, password=password)\r\n            if user is not None:\r\n                login(request, user)\r\n                messages.info(request, f\"You are now logged in as {username}.\")\r\n                print(\"Current request:\", request)\r\n                return redirect(\"main\")\r\n\r\n        messages.error(request, \"Invalid username or password.\")\r\n    form = AuthenticationForm()\r\n    return render(\r\n        request=request, template_name=\"signin.html\", context={\"login_form\": form}\r\n    )\r\n\r\n\r\ndef get_signout(request):\r\n    logout(request)\r\n    messages.success(request, \"You have successfully logged out.\")\r\n    return redirect(\"signin\")\r\n\r\ndef checkout(request):\r\n    template = loader.get_template(\"checkout.html\")\r\n    return HttpResponse(template.render())
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/user/views.py b/user/views.py
--- a/user/views.py	(revision d2a600f3de259d866e0c0ddc4e6f6dd585bf767f)
+++ b/user/views.py	(date 1712600211547)
@@ -5,7 +5,7 @@
 from django.contrib import messages
 from .forms import RegisterForm
 from django.contrib.auth.forms import AuthenticationForm
-from .models import User
+
 
 User = get_user_model()
 
@@ -16,8 +16,7 @@
 
 
 def main(request):
-    template = loader.get_template("index.html")
-    return HttpResponse(template.render())
+    return render(request, template_name="index.html")
 
 
 def get_signup(request):
@@ -29,6 +28,7 @@
             if user is not None:
                 login(request, user)
                 messages.success(request, "Registration successful.")
+                print("Login Successful.")
                 return redirect("main")
 
         messages.error(request, "Unsuccessful registration. Invalid information.")
@@ -47,6 +47,7 @@
             username = form.cleaned_data.get("username")
             password = form.cleaned_data.get("password")
             user = authenticate(username=username, password=password)
+            print("test")
             if user is not None:
                 login(request, user)
                 messages.info(request, f"You are now logged in as {username}.")
Index: user/templates/index.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% extends \"page.html\" %}\r\n\r\n{% block title %}\r\n    Homepage\r\n{% endblock %}\r\n\r\n{% block content %}\r\n    <h1 class=\"text-center my-5\">Homepage with bootstrap</h1>\r\n    <p class=\"text-center\">Go to <a href=\"cart/\">Cart</a></p>\r\n{% endblock %}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/user/templates/index.html b/user/templates/index.html
--- a/user/templates/index.html	(revision d2a600f3de259d866e0c0ddc4e6f6dd585bf767f)
+++ b/user/templates/index.html	(date 1712600880702)
@@ -7,4 +7,12 @@
 {% block content %}
     <h1 class="text-center my-5">Homepage with bootstrap</h1>
     <p class="text-center">Go to <a href="cart/">Cart</a></p>
-{% endblock %}
\ No newline at end of file
+    {% if user.is_authenticated %}
+    <h1>Chào mừng, {{ user.username }}!</h1>
+    <a href="{% url 'signout' %}">Đăng xuất</a>
+    {% else %}
+    <a href="{% url 'signin' %}">Đăng nhập</a>
+    {% endif %}
+{% endblock %}
+
+
Index: user/templates/signin.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% extends 'page.html' %} {% load crispy_forms_tags %}  {% load static %} \r\n\r\n{% block title %} Signin {% endblock%} \r\n\r\n{% block sign %}\r\n\r\n<div class=\"container-fluid\">\r\n  <div\r\n    class=\"d-flex justify-content-center align-items-center ml-auto mr-auto\"\r\n    style=\"height: 100vh\"\r\n  >\r\n    <div style=\"margin: 100px; width: 600px\">\r\n      <div style=\"padding-bottom: 45px\">\r\n        <h2>Welcome back!</h2>\r\n        <h5>Enter your Credentials to access your account</h5>\r\n      </div>\r\n      <form method=\"post\">\r\n        {% csrf_token %}\r\n        {{ login_form|crispy }}\r\n        <button\r\n          type=\"submit\"\r\n          class=\"btn btn-primary w-100\"\r\n          style=\"margin-top: 40px\"\r\n        >\r\n          Login\r\n        </button>      </form>\r\n\r\n      <div class=\"d-flex justify-content-center align-items-center mt-4 mb-4\">\r\n        <div class=\"w-100\">\r\n          <hr class=\"hr\" />\r\n        </div>\r\n        <div style=\"font-size: 10px\">&nbsp;Or&nbsp;</div>\r\n        <div class=\"w-100\">\r\n          <hr class=\"hr\" />\r\n        </div>\r\n      </div>\r\n\r\n      <p class=\"text-center\">\r\n        Don’t have an account?\r\n        <a href=\"/signup\" class=\"link-primary\">Sign up</a>\r\n      </p>\r\n    </div>\r\n    <div style=\"max-width: 900px\">\r\n      <img src='{% static \"/img/sign.jpg\" %}' class=\"img-fluid\" alt=\"signin\" />\r\n    </div>\r\n  </div>\r\n</div>\r\n{% endblock %}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/user/templates/signin.html b/user/templates/signin.html
--- a/user/templates/signin.html	(revision d2a600f3de259d866e0c0ddc4e6f6dd585bf767f)
+++ b/user/templates/signin.html	(date 1712596069919)
@@ -1,48 +1,49 @@
-{% extends 'page.html' %} {% load crispy_forms_tags %}  {% load static %} 
+{% extends 'page.html' %} {% load crispy_forms_tags %}  {% load static %}
 
-{% block title %} Signin {% endblock%} 
+{% block title %} Signin {% endblock %}
 
 {% block sign %}
 
-<div class="container-fluid">
-  <div
-    class="d-flex justify-content-center align-items-center ml-auto mr-auto"
-    style="height: 100vh"
-  >
-    <div style="margin: 100px; width: 600px">
-      <div style="padding-bottom: 45px">
-        <h2>Welcome back!</h2>
-        <h5>Enter your Credentials to access your account</h5>
-      </div>
-      <form method="post">
-        {% csrf_token %}
-        {{ login_form|crispy }}
-        <button
-          type="submit"
-          class="btn btn-primary w-100"
-          style="margin-top: 40px"
-        >
-          Login
-        </button>      </form>
+    <div class="container-fluid">
+        <div
+                class="d-flex justify-content-center align-items-center ml-auto mr-auto"
+                style="height: 100vh"
+        >
+            <div style="margin: 100px; width: 600px">
+                <div style="padding-bottom: 45px">
+                    <h2>Welcome back!</h2>
+                    <h5>Enter your Credentials to access your account</h5>
+                </div>
+                <form method="post">
+                    {% csrf_token %}
+                    {{ login_form|crispy }}
+                    <button
+                            type="submit"
+                            class="btn btn-primary w-100"
+                            style="margin-top: 40px"
+                    >
+                        Login
+                    </button>
+                </form>
 
-      <div class="d-flex justify-content-center align-items-center mt-4 mb-4">
-        <div class="w-100">
-          <hr class="hr" />
-        </div>
-        <div style="font-size: 10px">&nbsp;Or&nbsp;</div>
-        <div class="w-100">
-          <hr class="hr" />
-        </div>
-      </div>
+                <div class="d-flex justify-content-center align-items-center mt-4 mb-4">
+                    <div class="w-100">
+                        <hr class="hr"/>
+                    </div>
+                    <div style="font-size: 10px">&nbsp;Or&nbsp;</div>
+                    <div class="w-100">
+                        <hr class="hr"/>
+                    </div>
+                </div>
 
-      <p class="text-center">
-        Don’t have an account?
-        <a href="/signup" class="link-primary">Sign up</a>
-      </p>
-    </div>
-    <div style="max-width: 900px">
-      <img src='{% static "/img/sign.jpg" %}' class="img-fluid" alt="signin" />
-    </div>
-  </div>
-</div>
+                <p class="text-center">
+                    Don’t have an account?
+                    <a href="/signup" class="link-primary">Sign up</a>
+                </p>
+            </div>
+            <div style="max-width: 900px">
+                <img src='{% static "/img/sign.jpg" %}' class="img-fluid" alt="signin"/>
+            </div>
+        </div>
+    </div>
 {% endblock %}
